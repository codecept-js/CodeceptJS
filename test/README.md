Инструкция по запуску тестов

1. Необходимо установить Android Studio для запуска эмулятора Android
2. Необходимо установить appium
3. Необходимо IDE, рекомендуется WebStorm (удобная интеграция тестов)

УСТАНОВКА ANDROID STUDIO
1. Скачиваем zip архив студии отсюда https://developer.android.com/studio/index.html
2. Распаковываем архив (для linux рекомендуется распаковать в /home/user)
3. Запускаем IDE ANDROID STUDIO, для этого открываем терминал и выполняем следующие команды:
          ~ cd /home/user/android-studio/bin/
          ~ ./studio.sh
в результате должна запуститься IDE
4. В открывшемся окне выбираем Start a new Android Studio project
5. Заполняем поле имени нового проекта и путь до него, нажимаем Next
6. Выбираем платформу Phone and Tablet. В выпадающем меню выбираем версию Android
(на момент написания мануала API 25: Android 7.1.1 (Nougat), нажимаем Next
7. По умолчанию должна быть выбрана Empty Activity, она нам и нужна, нажимаем Next
8. В следующем окне оставляем все по умолчанию, нажимаем Finish.
в результате должна начаться сборка проекта, после загрузки всех необходимых компонентов откроется окно нового проекта

ЗАПУСКАЕМ ЭМУЛЯТОР ANDROID
выполнять после установки ANDROID STUDIO
1. В открытом проекте IDE AS открываем Tools>Android>AVD Manager
2. При первом запуске AVD Manager автоматически предлагается добавить девайс, либо можно нажать кнопку + CreateVirtual Device
3. Выбираем категорию Phone
4. Выбираем нужную для тестирования модель, нажимаем Next
5. В открывшемся окне рядом с версией Android нажимаем Download - произойдет скачивание из Google Play
6. Нажимаем Finish, девайс должен добавиться в список AVD Manager
7. В окне AVD Manager, в столбике Actions - нажимаем символ запуска приложения, должен открыться эмулятор выбранного девайса.

УСТАНОВКА И НАСТРОЙКА APPIUM
1. Открываем терминал и выполняем команды
          ~ npm install -g appium
          ~ npm i -g appium-doctor
          ~ npm appium-doctor
2. Если ругается на ANDROID_HOME, выполните команду (или пропишите в конфиг, чтобы настройка действовала после перезагрузки)
          ~ export ANDROID_HOME="/usr/lib/android-sdk/Android/Sdk"
          (путь до Android/Sdk зависит от того, куда AS установила android-sdk)
3. Если ругается на JAVA_HOME, выполните команду (или пропишите в конфиг, чтобы настройка действовала после перезагрузки)
          ~ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
4. Если ругается на Bin directory for JAVA_HOME, выполните команду (или пропишите в конфиг, чтобы настройка действовала после перезагрузки)
          ~ export PATH=$JAVA_HOME/bin:$PATH;
5. Когда все пункты ОК, запускаем appium
          ~ npm appium
6. Можно начинать работать!

ЗАПУСК ТЕСТОВ
Чтобы запустить тесты должно быть выполнено:

1. Открыт эмулятор Android
2. Запущен appium
3. Открыт проект в WebStorm

Открываем файл с тестами
Напротив каждого теста и группы тестов, рядом с номером строки должна быть зеленая кнопка play
Нажимаем Play>Run
Тест должен стартовать, в эмуляторе смартфона будут происходить действия в соответствии с шагами теста

LIFEHACK
Чтобы не открывать AS каждый раз, когда нужно запустить эмулятор, можно написать bash скрипт
Так же удобно в нем прописать запуск терминала и appium (обратите внимание, что xfce4-terminal будет работать только для xubunty)

---
#!/bin/bash
nohup ~/android-studio/tools/emulator -avd Nexus_6P_API_25 -netfast &
xfce4-terminal -x appium
---
